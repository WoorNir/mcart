<? namespace Bitrix\Main;$GLOBALS['____346445330']= array(base64_decode('ZmlsZV9leGl'.'zd'.'HM='),base64_decode('c3Ryd'.'G91'.'c'.'HBlc'.'g=='),base64_decode('bWQ'.'1'),base64_decode('bWQ1'),base64_decode('aW5'.'fYXJy'.'YXk='),base64_decode('a'.'W'.'5fYXJyYXk='),base64_decode(''.'aW5f'.'YX'.'JyYXk='),base64_decode('ZGVm'.'a'.'W5l'.'Z'.'A'.'=='),base64_decode('ZGVma'.'W5lZA'.'=='),base64_decode(''.'ZGVmaW5lZA=='),base64_decode('ZmlsZV9'.'leG'.'lzdHM='),base64_decode('ZmlsZV9l'.'eGlzdHM='),base64_decode(''.'Zmls'.'ZV9leGlz'.'dH'.'M='),base64_decode('Zm'.'lsZ'.'V9leG'.'lzd'.'HM='),base64_decode('ZX'.'hwbG9'.'kZQ'.'=='));if(!function_exists(__NAMESPACE__.'\\___1444471596')){function ___1444471596($_1027119544){static $_1526578568= false; if($_1526578568 == false) $_1526578568=array(''.'L2JpdHJpeC9saW'.'Nl'.'b'.'n'.'NlX'.'2tleS5'.'w'.'a'.'HA=','','','REVNTw'.'='.'=','RE'.'VNT'.'w==','QklU'.'UklY','TElDR'.'U'.'5DRQ==','REVNTw==','L2'.'tle'.'V'.'91cGRhdG'.'UucGhw'.'P2xpY2Vuc2Vfa2V5PQ'.'==',''.'JnRvYmFza'.'2V0PXkm'.'b'.'GFuZz0'.'=',''.'cnU=','a'.'3o=','Ynk=','aH'.'R0cHM6Ly9kZXY'.'uMWMtYml'.'0'.'cml4'.'L'.'nJ1L'.'2'.'xlY'.'X'.'J'.'uaW5n'.'L'.'2NvdXJz'.'ZS9'.'pbmRl'.'eC5waHA/Q'.'09VUlNFX0l'.'E'.'PT'.'EzNSZMR'.'VNTT05fSUQ9'.'MjU'.'3MjA'.'=','aHR0cHM6Ly'.'9'.'0c'.'m'.'FpbmluZy'.'5iaXRyaXgyNC'.'5jb20'.'v'.'c3VwcG9yd'.'C90cmFpbml'.'uZy9'.'jb3Vyc2'.'UvaW5kZX'.'g'.'ucGh'.'wP'.'0'.'N'.'PVVJT'.'R'.'V9JRD0'.'xNzgmTEVTU09'.'O'.'X0lE'.'PTI1'.'OT'.'M'.'yJkxFU1NPTl9QQ'.'VRIPT'.'E3N'.'TI'.'wLjE3NTYyL'.'jI1OTMwLjI1OT'.'My','cnU'.'=','Ynk=','a3o'.'=','ZGU=',''.'Z'.'XU=','ZnI'.'=','cGw=','a'.'XQ=','dWs=','Z'.'X'.'U=','Y29t','ZW4'.'=','REV'.'NTw='.'=','WQ='.'=','VElNRUx'.'J'.'TUlUX0VESVRJT04=','WQ==','RU5DT0RF',''.'W'.'Q='.'=','U'.'2l0ZUV4'.'cGlyZUR'.'hdGU=',''.'b'.'WFpbg'.'==','fnN1'.'c'.'HBvcnRfZml'.'uaXNoX2R'.'hdGU=',''.'WS'.'1tLW'.'Q=','WS1tLWQ=','Yml0cml4Mj'.'Q=','bWFpbg==','flB'.'BU'.'kFN'.'X0N'.'MS'.'UVOVF9MQU5'.'H','aW'.'50cmFuZXQ=','Z'.'W4=','c'.'nU'.'=','bWF'.'pbg==',''.'dmV'.'uZG9y','dW'.'FfYml'.'0cml'.'4'.'X3BvcnRhbA==',''.'dW'.'E=','Yml0'.'cml4X3B'.'vcnRh'.'bA==','ZW4=','MWNfYml0cm'.'l4X'.'3Bvcn'.'RhbA==','cnU=','L2Jp'.'dHJpeC'.'9tb2R1'.'bG'.'VzL21'.'haW4vbG'.'Fu'.'Zy'.'91Y'.'Q==',''.'dWE=',''.'L2J'.'pdHJp'.'eC9tb2R1bGVzL21'.'haW'.'4v'.'bGFuZy9'.'ieQ'.'='.'=','Ynk=','L'.'2J'.'p'.'dHJpe'.'C9tb2R1'.'b'.'GVzL'.'21h'.'aW4v'.'bGFu'.'Z'.'y9reg==','a'.'3o=','L2JpdHJpeC9tb2R1bG'.'VzL21haW4vbGFuZ'.'y9yd'.'Q==',''.'c'.'nU=','bWFpbg==','flB'.'BUkFNX1'.'BB'.'UlROR'.'V'.'JfSU'.'Q'.'=',''.'bWFpbg'.'='.'=','UEFSQU1fT'.'U'.'FY'.'X'.'1VTRVJ'.'T','bW'.'F'.'p'.'b'.'g==','fkNPVU5'.'UX0'.'VY'.'VFJB','Tg'.'==','W'.'Q'.'==',''.'ZXh'.'0cmFuZXQ'.'=',''.'QU5EIFUuTEFT'.'VF'.'9MT0dJT'.'iA+IA'.'='.'=',''.'QU5EIF'.'UuTE'.'F'.'TVF'.'9'.'MT0dJT'.'i'.'BJUyBOT1Q'.'gTlV'.'MTA==','aW5'.'0cmFuZX'.'Q'.'=','Z'.'Xh0cmFuZ'.'XQ=','ZXh0cm'.'FuZ'.'XR'.'fZ3J'.'vdXA=','bW'.'F'.'pbg='.'=','f'.'mxpY2Vuc2'.'VfbmFtZQ==',''.'b'.'WFpbg'.'==','fmxpY2Vu'.'c'.'2V'.'fY29kZXM=','',''.'LA==');return base64_decode($_1526578568[$_1027119544]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_782174147= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_782174147 === null){ $_1147736493= Loader::getDocumentRoot(). ___1444471596(0); $LICENSE_KEY= ___1444471596(1); if($GLOBALS['____346445330'][0]($_1147736493)){ include($_1147736493);} $this->_782174147=($LICENSE_KEY == ___1444471596(2) || $GLOBALS['____346445330'][1]($LICENSE_KEY) == ___1444471596(3)? ___1444471596(4): $LICENSE_KEY);} return $this->_782174147;} public function getHashLicenseKey(): string{ return $GLOBALS['____346445330'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____346445330'][3](___1444471596(5). $this->getKey(). ___1444471596(6));} public function isDemoKey(): bool{ return $this->getKey() == ___1444471596(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___1444471596(8). $this->getHashLicenseKey(). ___1444471596(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_1853647151= $this->getRegion(); if($GLOBALS['____346445330'][4]($_1853647151,[___1444471596(10), ___1444471596(11), ___1444471596(12)])){ return ___1444471596(13);} return ___1444471596(14);} public function getRenewalLink(): string{ $_1853647151= $this->getRegion(); if($GLOBALS['____346445330'][5]($_1853647151,[___1444471596(15), ___1444471596(16), ___1444471596(17), ___1444471596(18)])){ return self::URL_RENEWAL_LICENSE[$_1853647151];} if($GLOBALS['____346445330'][6]($_1853647151,[___1444471596(19), ___1444471596(20), ___1444471596(21), ___1444471596(22), ___1444471596(23)])){ return self::URL_RENEWAL_LICENSE[___1444471596(24)];} return self::URL_RENEWAL_LICENSE[___1444471596(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___1444471596(26)];} public function isDemo(): bool{ return $GLOBALS['____346445330'][7](___1444471596(27)) && DEMO === ___1444471596(28);} public function isTimeBound(): bool{ return $GLOBALS['____346445330'][8](___1444471596(29)) && TIMELIMIT_EDITION === ___1444471596(30);} public function isEncoded(): bool{ return $GLOBALS['____346445330'][9](___1444471596(31)) && ENCODE === ___1444471596(32);} public function getExpireDate():?Date{ $_1101200739= (int)($GLOBALS[___1444471596(33)] ?? min(122,0,40.666666666667)); if($_1101200739>(133*2-266)){ return Date::createFromTimestamp($_1101200739);} return null;} public function getSupportExpireDate():?Date{ $_1101200739= Option::get(___1444471596(34), ___1444471596(35)); if(Date::isCorrect($_1101200739, ___1444471596(36))){ return new Date($_1101200739, ___1444471596(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___1444471596(38))){ return \CBitrix24::getPortalZone();} $_1853647151= Option::get(___1444471596(39), ___1444471596(40)); if(!empty($_1853647151)){ return $_1853647151;} $_1853647151= $this->__444083194(); if(!empty($_1853647151)){ return $_1853647151;} return $this->__1463459634();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___1444471596(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___1444471596(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___1444471596(43)];} private function __444083194():?string{ $_1506404156= Option::get(___1444471596(44), ___1444471596(45)); if($_1506404156 === ___1444471596(46)){ return ___1444471596(47);} if($_1506404156 === ___1444471596(48)){ return ___1444471596(49);} if($_1506404156 === ___1444471596(50)){ return ___1444471596(51);} return null;} private function __1463459634():?string{ $_431640900= Application::getDocumentRoot(); if($GLOBALS['____346445330'][10]($_431640900. ___1444471596(52))){ return ___1444471596(53);} if($GLOBALS['____346445330'][11]($_431640900. ___1444471596(54))){ return ___1444471596(55);} if($GLOBALS['____346445330'][12]($_431640900. ___1444471596(56))){ return ___1444471596(57);} if($GLOBALS['____346445330'][13]($_431640900. ___1444471596(58))){ return ___1444471596(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___1444471596(60), ___1444471596(61),(154*2-308));} public function getMaxUsers(): int{ return (int)Option::get(___1444471596(62), ___1444471596(63), min(112,0,37.333333333333));} public function isExtraCountable(): bool{ return Option::get(___1444471596(64), ___1444471596(65), ___1444471596(66)) === ___1444471596(67) && ModuleManager::isModuleInstalled(___1444471596(68));} public function getActiveUsersCount(Date $_1311580550= null): int{ $_1069732802= Application::getConnection(); $_935917551=(1032/2-516); if($_1311580550 !== null){  $_544418848= ___1444471596(69).$_1069732802->getSqlHelper()->convertToDbDate($_1311580550);} else{  $_544418848= ___1444471596(70);} if(ModuleManager::isModuleInstalled(___1444471596(71))){ $_143782952="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_544418848}
			"; $_935917551= (int)$_1069732802->queryScalar($_143782952); $_1303044735= (int)Option::get(___1444471596(72), ___1444471596(73)); if($_1303044735> min(164,0,54.666666666667) && $this->isExtraCountable()){ $_143782952="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_1303044735}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_544418848}
							AND D.VALUE_ID IS NULL
					"; $_935917551 += (int)$_1069732802->queryScalar($_143782952);}} return $_935917551;}  public function getName(): string{ return Option::get(___1444471596(74), ___1444471596(75));}  public function getCodes(): array{ $_522549133= Option::get(___1444471596(76), ___1444471596(77)); if($_522549133 != ___1444471596(78)){ return $GLOBALS['____346445330'][14](___1444471596(79), $_522549133);} return[];}}?>